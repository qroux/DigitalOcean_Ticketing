{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/nr/code/qroux/ticketing/client/pages/tickets/new.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport useRequest from '../../hooks/use-request';\nimport Router from 'next/router';\nimport { motion } from 'framer-motion';\n\nvar NewTicket = function NewTicket() {\n  _s();\n\n  var _useState = useState(''),\n      title = _useState[0],\n      setTitle = _useState[1];\n\n  var _useState2 = useState(''),\n      price = _useState2[0],\n      setPrice = _useState2[1];\n\n  var _useRequest = useRequest({\n    url: '/api/tickets',\n    method: 'post',\n    body: {\n      title: title,\n      price: price\n    },\n    onSuccess: function onSuccess() {\n      return Router.push('/');\n    }\n  }),\n      doRequest = _useRequest.doRequest,\n      errors = _useRequest.errors;\n\n  var onSubmit = function onSubmit(event) {\n    event.preventDefault();\n    doRequest();\n  };\n\n  var onBlur = function onBlur() {\n    var value = parseFloat(price);\n    isNaN(value) ? setPrice(0) : setPrice(value.toFixed(2));\n  };\n\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    className: \"text-center text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, \"Create a ticket\"), __jsx(\"div\", {\n    className: \"bg-light rounded mt-5 p-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, errors, __jsx(\"form\", {\n    onSubmit: onSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 11\n    }\n  }, __jsx(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, \"Title\"), __jsx(\"input\", {\n    value: title,\n    onChange: function onChange(e) {\n      return setTitle(e.target.value);\n    },\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, __jsx(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"Price\"), __jsx(\"input\", {\n    value: price,\n    onBlur: onBlur,\n    onChange: function onChange(e) {\n      return setPrice(e.target.value);\n    },\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, __jsx(\"button\", {\n    className: \"btn btn-primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"Submit\")))));\n};\n\n_s(NewTicket, \"FcKTY/3cYm1K6RjjZiECc9HDwKY=\", false, function () {\n  return [useRequest];\n});\n\n_c = NewTicket;\nexport default NewTicket;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewTicket\");","map":{"version":3,"sources":["/home/nr/code/qroux/ticketing/client/pages/tickets/new.js"],"names":["useState","useRequest","Router","motion","NewTicket","title","setTitle","price","setPrice","url","method","body","onSuccess","push","doRequest","errors","onSubmit","event","preventDefault","onBlur","value","parseFloat","isNaN","toFixed","e","target"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport useRequest from '../../hooks/use-request';\nimport Router from 'next/router';\nimport { motion } from 'framer-motion';\n\nconst NewTicket = () => {\n  const [title, setTitle] = useState('');\n  const [price, setPrice] = useState('');\n  const { doRequest, errors } = useRequest({\n    url: '/api/tickets',\n    method: 'post',\n    body: { title, price },\n    onSuccess: () => Router.push('/'),\n  });\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    doRequest();\n  };\n\n  const onBlur = () => {\n    const value = parseFloat(price);\n    isNaN(value) ? setPrice(0) : setPrice(value.toFixed(2));\n  };\n\n  return (\n    <div>\n      <h1 className=\"text-center text-light\">Create a ticket</h1>\n      <div className=\"bg-light rounded mt-5 p-5\">\n        {errors}\n        <form onSubmit={onSubmit}>\n          <div className=\"form-group\">\n            <label>Title</label>\n            <input\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Price</label>\n            <input\n              value={price}\n              onBlur={onBlur}\n              onChange={(e) => setPrice(e.target.value)}\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"text-center\">\n            <button className=\"btn btn-primary\">Submit</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default NewTicket;\n"]},"metadata":{},"sourceType":"module"}