{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport useRequest from '../../hooks/use-request';\nimport Router from 'next/router';\n\nconst TicketShow = ({\n  ticket,\n  currentUser\n}) => {\n  const {\n    doRequest,\n    errors\n  } = useRequest({\n    url: '/api/orders',\n    method: 'post',\n    body: {\n      ticketId: ticket.id\n    },\n    onSuccess: order => Router.push('/orders/[orderId]', `/orders/${order.id}`)\n  });\n\n  const purchaseBtn = () => {\n    if (currentUser) {\n      return __jsx(\"button\", {\n        onClick: () => doRequest(),\n        className: \"btn btn-primary\"\n      }, \"Purchase\");\n    }\n\n    return __jsx(\"button\", {\n      onClick: () => Router.push('/auth/signin'),\n      className: \"btn btn-primary\"\n    }, \"Pruchase\");\n  };\n\n  return __jsx(\"div\", null, __jsx(\"h1\", null, ticket.title), __jsx(\"h5\", null, \"Price: \", ticket.price), errors, purchaseBtn());\n};\n\nTicketShow.getInitialProps = async (context, client) => {\n  const {\n    ticketId\n  } = context.query;\n  const {\n    data\n  } = await client.get(`/api/tickets/${ticketId}`);\n  return {\n    ticket: data\n  };\n};\n\nexport default TicketShow;","map":null,"metadata":{},"sourceType":"module"}