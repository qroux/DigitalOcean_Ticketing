{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/nr/code/qroux/ticketing/client/pages/tickets/new.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport useRequest from '../../hooks/use-request';\nimport Router from 'next/router';\nimport { motion } from 'framer-motion';\n\nvar NewTicket = function NewTicket() {\n  _s();\n\n  var _useState = useState(''),\n      title = _useState[0],\n      setTitle = _useState[1];\n\n  var _useState2 = useState(''),\n      price = _useState2[0],\n      setPrice = _useState2[1];\n\n  var _useRequest = useRequest({\n    url: '/api/tickets',\n    method: 'post',\n    body: {\n      title: title,\n      price: price\n    },\n    onSuccess: function onSuccess() {\n      return Router.push('/');\n    }\n  }),\n      doRequest = _useRequest.doRequest,\n      errors = _useRequest.errors;\n\n  var onSubmit = function onSubmit(event) {\n    event.preventDefault();\n    doRequest();\n  };\n\n  var onBlur = function onBlur() {\n    var value = parseFloat(price);\n    isNaN(value) ? setPrice(0) : setPrice(value.toFixed(2));\n  };\n\n  return __jsx(motion.div, {\n    initial: {\n      opacity: 0,\n      y: '30px'\n    },\n    animate: {\n      opacity: 1,\n      y: '0px'\n    },\n    exit: {\n      opacity: 0,\n      y: '30px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    className: \"text-center text-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, \"Sell your ticket\"), __jsx(\"div\", {\n    className: \"mt-5 pt-4 pb-2 px-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, errors, __jsx(\"form\", {\n    onSubmit: onSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"input-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"input-group-prepend\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    className: \"input-group-text\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 15\n    }\n  }, \"Aa\")), __jsx(\"input\", {\n    placeholder: \"Title\",\n    value: title,\n    onChange: function onChange(e) {\n      return setTitle(e.target.value);\n    },\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: \"input-group my-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"input-group-prepend\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    className: \"input-group-text\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  }, \"$\")), __jsx(\"input\", {\n    placeholder: \"Price\",\n    value: price,\n    onBlur: onBlur,\n    onChange: function onChange(e) {\n      return setPrice(e.target.value);\n    },\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, __jsx(\"button\", {\n    className: \"btn btn-warning\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Submit\")))));\n};\n\n_s(NewTicket, \"FcKTY/3cYm1K6RjjZiECc9HDwKY=\", false, function () {\n  return [useRequest];\n});\n\n_c = NewTicket;\nexport default NewTicket;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewTicket\");","map":{"version":3,"sources":["/home/nr/code/qroux/ticketing/client/pages/tickets/new.js"],"names":["useState","useRequest","Router","motion","NewTicket","title","setTitle","price","setPrice","url","method","body","onSuccess","push","doRequest","errors","onSubmit","event","preventDefault","onBlur","value","parseFloat","isNaN","toFixed","opacity","y","e","target"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport useRequest from '../../hooks/use-request';\nimport Router from 'next/router';\nimport { motion } from 'framer-motion';\n\nconst NewTicket = () => {\n  const [title, setTitle] = useState('');\n  const [price, setPrice] = useState('');\n  const { doRequest, errors } = useRequest({\n    url: '/api/tickets',\n    method: 'post',\n    body: { title, price },\n    onSuccess: () => Router.push('/'),\n  });\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    doRequest();\n  };\n\n  const onBlur = () => {\n    const value = parseFloat(price);\n    isNaN(value) ? setPrice(0) : setPrice(value.toFixed(2));\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: '30px' }}\n      animate={{ opacity: 1, y: '0px' }}\n      exit={{ opacity: 0, y: '30px' }}\n    >\n      <h1 className=\"text-center text-light\">Sell your ticket</h1>\n      <div className=\"mt-5 pt-4 pb-2 px-5\">\n        {errors}\n        <form onSubmit={onSubmit}>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">Aa</span>\n            </div>\n            <input\n              placeholder=\"Title\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"input-group my-2\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">$</span>\n            </div>\n            <input\n              placeholder=\"Price\"\n              value={price}\n              onBlur={onBlur}\n              onChange={(e) => setPrice(e.target.value)}\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"text-center\">\n            <button className=\"btn btn-warning\">Submit</button>\n          </div>\n        </form>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default NewTicket;\n"]},"metadata":{},"sourceType":"module"}